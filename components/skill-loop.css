/* Skills Tag Loop (multi-row seamless marquee) */

:root {
  --sky-bg: #1e293b; /* tailwind slate-800 */
  --tag-bg: #334155; /* slate-700 */
  --tag-text: #e2e8f0; /* slate-200 */
  --tag-dim: #64748b; /* slate-500 */
}

.skills-loop { position: relative; display: grid; place-items: center; width: 100%; }
.skills-loop .content { position: relative; z-index: 1; width: 100%; }

.tag-list {
  width: 100%;
  max-width: 100vw;
  display: flex;
  flex-direction: column;
  gap: 16px 0;
  position: relative;
  padding: 0; /* start at top; no vertical offset */
  overflow: hidden; /* no vertical scrollbar inside */
}

.loop-slider .inner {
  display: flex;
  width: fit-content;
  animation-name: skill-loop;
  animation-timing-function: linear;
  animation-iteration-count: infinite;
  animation-direction: var(--direction, normal);
  animation-duration: var(--duration, 35s);
}

/* Large tile box style */
.tile {
  --accent: #7c7c7c;
  width: 180px;
  height: 180px;
  display: grid;
  grid-template-rows: 1fr auto;
  place-items: center;
  border-radius: 14px;
  margin-right: 1rem; /* important for seamless loop */
  background: rgba(255, 255, 255, 0.08); /* glassmorphism: translucent white */
  backdrop-filter: blur(12px) saturate(180%);
  -webkit-backdrop-filter: blur(12px) saturate(180%);
  border: 1px solid rgba(255, 255, 255, 0.18);
  box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.15);
  position: relative;
  overflow: hidden;
  transition: transform .2s ease, box-shadow .2s ease, border-color .2s ease, background .2s ease;
  white-space: nowrap;
}
.tile::before { content: none; }
.tile::after { /* glossy light streak across box */
  content: ""; position: absolute; inset: -30% -120% -30% -120%; z-index: 1;
  background: linear-gradient(75deg, transparent 44%, rgba(255,255,255,0.22) 50%, transparent 56%);
  transform: translateX(-40%);
  animation: tileSweep 6.5s ease-in-out infinite;
  animation-delay: var(--pulseDelay, 0s);
}
.tile:hover { transform: translateY(-3px); background: rgba(255, 255, 255, 0.15); box-shadow: 0 16px 40px 0 rgba(31, 38, 135, 0.25); border-color: rgba(255, 255, 255, 0.3); }

.icon-wrap { width: 90px; height: 90px; margin-top: 14px; display: grid; place-items: center; position: relative; background: transparent; border-radius: 0; }
.icon-wrap img { width: 72px; height: 72px; object-fit: contain; }
.icon-wrap i { font-size: 64px; line-height: 1; }

/* Shiny sweep */
.icon-wrap::after { content:""; position:absolute; inset:-40%; background: linear-gradient(70deg, transparent 40%, rgba(255,255,255,.22) 50%, transparent 60%); transform: translateX(-120%) rotate(10deg); animation: shine 3.2s ease-in-out infinite; animation-delay: var(--pulseDelay, 0s); }

.label { margin: 10px 10px 12px; font-size: 13px; font-weight: 800; letter-spacing: .2px; text-align: center; color: #ffffff; text-shadow: 0 1px 2px rgba(0,0,0,0.3); padding: 6px 8px; border-radius: 8px; background: rgba(255,255,255,.15); backdrop-filter: blur(8px); border: 1px solid rgba(255,255,255,.25); width: calc(100% - 20px); overflow: hidden; text-overflow: ellipsis; }

/* “Random” pulse glow using staggered delays */
.tile { animation: pulseGlow 9s ease-in-out infinite; animation-delay: var(--pulseDelay, 0s); }

@keyframes shine { from { transform: translateX(-120%) rotate(10deg); } to { transform: translateX(120%) rotate(10deg); } }
@keyframes tileSweep { 0%, 70% { transform: translateX(-40%); } 90% { transform: translateX(40%); } 100% { transform: translateX(40%); } }
@keyframes pulseGlow {
  0%, 85%, 100% {
    box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.15);
  }
  40% {
    box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.2), 0 0 24px 6px color-mix(in oklab, var(--accent) 25%, transparent);
    background: rgba(255, 255, 255, 0.12);
  }
}

.fade-overlay { display: none; }

/* Category lighting accents */
.accent-dsml { --accent: #af6dff; }
.accent-de { --accent: #ff64b4; }
.accent-viz { --accent: #ffebaa; }
.accent-misc { --accent: #78beff; }
.accent-dsml:hover { box-shadow: 0 8px 40px 0 rgba(31, 38, 135, 0.25), 0 0 28px 8px rgba(175,109,255,0.4); border-color: rgba(175,109,255,0.5); }
.accent-de:hover { box-shadow: 0 8px 40px 0 rgba(31, 38, 135, 0.25), 0 0 28px 8px rgba(255,100,180,0.4); border-color: rgba(255,100,180,0.5); }
.accent-viz:hover { box-shadow: 0 8px 40px 0 rgba(31, 38, 135, 0.25), 0 0 28px 8px rgba(255,235,170,0.4); border-color: rgba(255,235,170,0.5); }
.accent-misc:hover { box-shadow: 0 8px 40px 0 rgba(31, 38, 135, 0.25), 0 0 28px 8px rgba(120,190,255,0.4); border-color: rgba(120,190,255,0.5); }

@keyframes skill-loop {
  0% { transform: translateX(0); }
  100% { transform: translateX(-50%); }
}

@media (prefers-reduced-motion: reduce) {
  .loop-slider .inner { animation: none; }
}
